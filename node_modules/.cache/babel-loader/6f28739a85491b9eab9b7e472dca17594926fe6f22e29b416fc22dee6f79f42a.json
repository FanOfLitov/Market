{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Market\\\\src\\\\components\\\\Productservice\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Filters from './Filters';\nimport ProductsGrid from './ProductsGrid';\nimport Pagination from './Pagination';\nimport ProductModal from './ProductModal';\nimport { getRolesFromToken } from '../../utils/jwt';\nimport { apiFetch } from '../../../src/services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Marketplace = ({\n  token,\n  onRequireAuth\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('id');\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const [currentProduct, setCurrentProduct] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    price: 0,\n    stock: 0\n  });\n  const [userRoles, setUserRoles] = useState([]);\n  const pageSize = 20;\n  const PRODUCTS_URL = process.env.REACT_APP_PRODUCTS_URL || 'http://localhost:8072/productservice/api/v1';\n  const isAdmin = () => userRoles.some(role => role === 'ADMIN' || role === 'ROLE_ADMIN');\n  const isSellerOrAdmin = () => userRoles.some(role => ['SELLER', 'ROLE_SELLER', 'ADMIN', 'ROLE_ADMIN'].includes(role));\n  const fetchProducts = async () => {\n    setLoading(true);\n    try {\n      const data = await apiFetch(`${PRODUCTS_URL}/products?page=0&size=100`);\n      setProducts(Array.isArray(data) ? data : []);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setProducts([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    setUserRoles(token ? getRolesFromToken(token) : []);\n  }, [token]);\n  useEffect(() => {\n    fetchProducts();\n  }, [token]);\n  useEffect(() => {\n    const filtered = products.filter(p => p.title.toLowerCase().includes(searchTerm.toLowerCase()) || p.description.toLowerCase().includes(searchTerm.toLowerCase()));\n    setTotalPages(Math.ceil(filtered.length / pageSize) || 0);\n    setCurrentPage(0);\n  }, [searchTerm, sortBy, products]);\n  const getDisplayedProducts = () => {\n    let filtered = [...products];\n    if (searchTerm.trim()) {\n      filtered = filtered.filter(p => p.title.toLowerCase().includes(searchTerm.toLowerCase()) || p.description.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'price':\n          return a.price - b.price;\n        case 'rating':\n          return (b.rating || 0) - (a.rating || 0);\n        case 'title':\n          return a.title.localeCompare(b.title);\n        default:\n          return (a.id || 0) - (b.id || 0);\n      }\n    });\n    const startIndex = currentPage * pageSize;\n    const endIndex = startIndex + pageSize;\n    return filtered.slice(startIndex, endIndex);\n  };\n  const handleProductInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'price' || name === 'stock' ? Number(value) : value\n    }));\n  };\n  const handleSubmitProduct = async () => {\n    if (!token) {\n      onRequireAuth === null || onRequireAuth === void 0 ? void 0 : onRequireAuth();\n      return;\n    }\n    if (!isSellerOrAdmin()) {\n      alert('Нужна роль SELLER или ADMIN для добавления/обновления');\n      return;\n    }\n    setLoading(true);\n    try {\n      const url = isEdit ? `${PRODUCTS_URL}/products/${currentProduct.productUUID}` : `${PRODUCTS_URL}/products`;\n      const method = isEdit ? 'PATCH' : 'POST';\n      const data = await apiFetch(url, {\n        method,\n        body: JSON.stringify(formData)\n      });\n      if (data !== null) {\n        await fetchProducts();\n        setShowProductModal(false);\n      }\n    } catch (error) {\n      console.error('Product save error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const openProductModal = (product = null) => {\n    if (!token) {\n      onRequireAuth === null || onRequireAuth === void 0 ? void 0 : onRequireAuth();\n      return;\n    }\n    if (!isSellerOrAdmin()) {\n      alert('Нужна роль SELLER или ADMIN для редактирования');\n      return;\n    }\n    if (!isAdmin() && product) {\n      alert('Редактирование из каталога только для администратора. Перейдите в \"Кабинет продавца\".');\n      return;\n    }\n    if (product) {\n      setIsEdit(true);\n      setCurrentProduct(product);\n      setFormData({\n        title: product.title,\n        description: product.description,\n        price: product.price,\n        stock: product.stock\n      });\n    } else {\n      setIsEdit(false);\n      setCurrentProduct(null);\n      setFormData({\n        title: '',\n        description: '',\n        price: 0,\n        stock: 0\n      });\n    }\n    setShowProductModal(true);\n  };\n  const displayedProducts = getDisplayedProducts();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n      children: [/*#__PURE__*/_jsxDEV(Filters, {\n        searchTerm: searchTerm,\n        setSearchTerm: setSearchTerm,\n        sortBy: sortBy,\n        setSortBy: setSortBy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center h-64\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(ProductsGrid, {\n        products: displayedProducts,\n        canManage: isAdmin(),\n        onEdit: p => openProductModal(p),\n        showBuy: true,\n        onRequireAuth: () => onRequireAuth === null || onRequireAuth === void 0 ? void 0 : onRequireAuth()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(Pagination, {\n        currentPage: currentPage,\n        totalPages: totalPages,\n        onPageChange: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this), !loading && displayedProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"mx-auto h-12 w-12 text-gray-400\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductModal, {\n      open: showProductModal,\n      isEdit: isEdit,\n      loading: loading,\n      formData: formData,\n      onChange: handleProductInputChange,\n      onSubmit: handleSubmitProduct,\n      onClose: () => setShowProductModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 9\n  }, this);\n};\n_s(Marketplace, \"eqaS12avbAhSaObOC/r0o+TT+SY=\");\n_c = Marketplace;\nexport default Marketplace;\nvar _c;\n$RefreshReg$(_c, \"Marketplace\");","map":{"version":3,"names":["React","useEffect","useState","Filters","ProductsGrid","Pagination","ProductModal","getRolesFromToken","apiFetch","jsxDEV","_jsxDEV","Marketplace","token","onRequireAuth","_s","products","setProducts","loading","setLoading","currentPage","setCurrentPage","totalPages","setTotalPages","searchTerm","setSearchTerm","sortBy","setSortBy","showProductModal","setShowProductModal","isEdit","setIsEdit","currentProduct","setCurrentProduct","formData","setFormData","title","description","price","stock","userRoles","setUserRoles","pageSize","PRODUCTS_URL","process","env","REACT_APP_PRODUCTS_URL","isAdmin","some","role","isSellerOrAdmin","includes","fetchProducts","data","Array","isArray","error","console","filtered","filter","p","toLowerCase","Math","ceil","length","getDisplayedProducts","trim","sort","a","b","rating","localeCompare","id","startIndex","endIndex","slice","handleProductInputChange","e","name","value","target","prev","Number","handleSubmitProduct","alert","url","productUUID","method","body","JSON","stringify","openProductModal","product","displayedProducts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","canManage","onEdit","showBuy","onPageChange","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","open","onChange","onSubmit","onClose","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Market/src/components/Productservice/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Filters from './Filters';\r\nimport ProductsGrid from './ProductsGrid';\r\nimport Pagination from './Pagination';\r\nimport ProductModal from './ProductModal';\r\nimport { getRolesFromToken } from '../../utils/jwt';\r\nimport { apiFetch } from '../../../src/services/api';\r\n\r\nconst Marketplace = ({ token, onRequireAuth }) => {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(0);\r\n\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [sortBy, setSortBy] = useState('id');\r\n\r\n    const [showProductModal, setShowProductModal] = useState(false);\r\n    const [isEdit, setIsEdit] = useState(false);\r\n    const [currentProduct, setCurrentProduct] = useState(null);\r\n\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        description: '',\r\n        price: 0,\r\n        stock: 0,\r\n    });\r\n\r\n    const [userRoles, setUserRoles] = useState([]);\r\n\r\n    const pageSize = 20;\r\n    const PRODUCTS_URL =\r\n        process.env.REACT_APP_PRODUCTS_URL ||\r\n        'http://localhost:8072/productservice/api/v1';\r\n\r\n    const isAdmin = () =>\r\n        userRoles.some((role) => role === 'ADMIN' || role === 'ROLE_ADMIN');\r\n\r\n    const isSellerOrAdmin = () =>\r\n        userRoles.some((role) =>\r\n            ['SELLER', 'ROLE_SELLER', 'ADMIN', 'ROLE_ADMIN'].includes(role)\r\n        );\r\n\r\n    const fetchProducts = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const data = await apiFetch(`${PRODUCTS_URL}/products?page=0&size=100`);\r\n            setProducts(Array.isArray(data) ? data : []);\r\n        } catch (error) {\r\n            console.error('Error fetching products:', error);\r\n            setProducts([]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setUserRoles(token ? getRolesFromToken(token) : []);\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        const filtered = products.filter(\r\n            (p) =>\r\n                p.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                p.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n        setTotalPages(Math.ceil(filtered.length / pageSize) || 0);\r\n        setCurrentPage(0);\r\n    }, [searchTerm, sortBy, products]);\r\n\r\n    const getDisplayedProducts = () => {\r\n        let filtered = [...products];\r\n\r\n        if (searchTerm.trim()) {\r\n            filtered = filtered.filter(\r\n                (p) =>\r\n                    p.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                    p.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n            );\r\n        }\r\n\r\n        filtered.sort((a, b) => {\r\n            switch (sortBy) {\r\n                case 'price':\r\n                    return a.price - b.price;\r\n                case 'rating':\r\n                    return (b.rating || 0) - (a.rating || 0);\r\n                case 'title':\r\n                    return a.title.localeCompare(b.title);\r\n                default:\r\n                    return (a.id || 0) - (b.id || 0);\r\n            }\r\n        });\r\n\r\n        const startIndex = currentPage * pageSize;\r\n        const endIndex = startIndex + pageSize;\r\n        return filtered.slice(startIndex, endIndex);\r\n    };\r\n\r\n    const handleProductInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            [name]: name === 'price' || name === 'stock' ? Number(value) : value,\r\n        }));\r\n    };\r\n\r\n    const handleSubmitProduct = async () => {\r\n        if (!token) {\r\n            onRequireAuth?.();\r\n            return;\r\n        }\r\n        if (!isSellerOrAdmin()) {\r\n            alert('Нужна роль SELLER или ADMIN для добавления/обновления');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        try {\r\n            const url = isEdit\r\n                ? `${PRODUCTS_URL}/products/${currentProduct.productUUID}`\r\n                : `${PRODUCTS_URL}/products`;\r\n            const method = isEdit ? 'PATCH' : 'POST';\r\n\r\n            const data = await apiFetch(url, {\r\n                method,\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (data !== null) {\r\n                await fetchProducts();\r\n                setShowProductModal(false);\r\n            }\r\n        } catch (error) {\r\n            console.error('Product save error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const openProductModal = (product = null) => {\r\n        if (!token) {\r\n            onRequireAuth?.();\r\n            return;\r\n        }\r\n        if (!isSellerOrAdmin()) {\r\n            alert('Нужна роль SELLER или ADMIN для редактирования');\r\n            return;\r\n        }\r\n\r\n        if (!isAdmin() && product) {\r\n            alert(\r\n                'Редактирование из каталога только для администратора. Перейдите в \"Кабинет продавца\".'\r\n            );\r\n            return;\r\n        }\r\n\r\n        if (product) {\r\n            setIsEdit(true);\r\n            setCurrentProduct(product);\r\n            setFormData({\r\n                title: product.title,\r\n                description: product.description,\r\n                price: product.price,\r\n                stock: product.stock,\r\n            });\r\n        } else {\r\n            setIsEdit(false);\r\n            setCurrentProduct(null);\r\n            setFormData({ title: '', description: '', price: 0, stock: 0 });\r\n        }\r\n\r\n        setShowProductModal(true);\r\n    };\r\n\r\n    const displayedProducts = getDisplayedProducts();\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n                <Filters\r\n                    searchTerm={searchTerm}\r\n                    setSearchTerm={setSearchTerm}\r\n                    sortBy={sortBy}\r\n                    setSortBy={setSortBy}\r\n                />\r\n\r\n                {loading ? (\r\n                    <div className=\"flex justify-center items-center h-64\">\r\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n                    </div>\r\n                ) : (\r\n                    <ProductsGrid\r\n                        products={displayedProducts}\r\n                        canManage={isAdmin()}\r\n                        onEdit={(p) => openProductModal(p)}\r\n                        showBuy={true}\r\n                        onRequireAuth={() => onRequireAuth?.()}\r\n                    />\r\n                )}\r\n\r\n                {totalPages > 1 && (\r\n                    <Pagination\r\n                        currentPage={currentPage}\r\n                        totalPages={totalPages}\r\n                        onPageChange={setCurrentPage}\r\n                    />\r\n                )}\r\n\r\n                {!loading && displayedProducts.length === 0 && (\r\n                    <div className=\"text-center py-12\">\r\n                        <svg\r\n                            className=\"mx-auto h-12 w-12 text-gray-400\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                        >\r\n                            <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"\r\n                            />\r\n                        </svg>\r\n                        <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n                            Товары не найдены\r\n                        </h3>\r\n                        <p className=\"mt-1 text-sm text-gray-500\">\r\n                            Попробуйте изменить параметры поиска.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <ProductModal\r\n                open={showProductModal}\r\n                isEdit={isEdit}\r\n                loading={loading}\r\n                formData={formData}\r\n                onChange={handleProductInputChange}\r\n                onSubmit={handleSubmitProduct}\r\n                onClose={() => setShowProductModal(false)}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Marketplace;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}